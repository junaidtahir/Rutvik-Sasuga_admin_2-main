{"version":3,"file":"static/js/27.c5bc007b.chunk.js","mappings":"oNAqMA,UAxLkB,WAChB,IAAQA,GAAMC,EAAAA,EAAAA,MAAND,EACRE,GAA0BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAxBI,GAAFF,EAAA,GAAUA,EAAA,IACtBG,GAAkCJ,EAAAA,EAAAA,UAAS,CAAC,GAAEK,GAAAH,EAAAA,EAAAA,GAAAE,EAAA,GAAvCE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAC9BG,GAAsCR,EAAAA,EAAAA,UAAS,CAAC,GAAES,GAAAP,EAAAA,EAAAA,GAAAM,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,IAClCG,EAAAA,EAAAA,YAAU,WACRC,GACF,GAAG,IAEH,IAAMA,EAAO,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,EAAAA,EAAAA,KAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,GACcC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,eAAe,KAAD,EAA3DR,EAAaG,EAAAM,KACbR,EAAO,GACbD,EAAcU,SAAQ,SAACC,GACrBV,EAAKW,KAAKD,EAAIV,OAChB,IACAjB,EAASiB,GAAM,wBAAAE,EAAAU,OAAA,GAAAd,EAAA,KAChB,kBAPY,OAAAJ,EAAAmB,MAAA,KAAAC,UAAA,KA6Db,OApDAtB,EAAAA,EAAAA,YAAU,YACRuB,EAAAA,EAAAA,MACA,IAAMC,GAAIC,EAAAA,EAAAA,KAAMX,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,WAEzBW,GAAcC,EAAAA,EAAAA,IAAWH,GAAG,SAACI,GACjC,IAAMC,EAAe,GACjBC,EAAa,EACbC,EAAoB,EACpBC,EAAiB,EACjBC,EAAmB,EACnBC,EAAwB,EACxBC,EAAmB,EACjBC,EAAgB,CAAC,EAwBvB,IAAK,IAAMC,KAvBXT,EAAcX,SAAQ,SAACC,GACrB,IAAIoB,EAAOpB,EAAIV,OACfqB,EAAaV,MAAIoB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIrB,EAAIV,QAAM,IAAEgC,GAAItB,EAAIsB,GAAIC,SAAS,KACxDX,KACiC,IAA7BQ,EAAKI,UAAUA,WAAqBP,IACH,GAAjCG,EAAKK,aAAaC,aACpBb,IAEkB,SAAhBO,EAAKO,OACPb,IACyB,WAAhBM,EAAKO,OACdZ,IACyB,gBAAhBK,EAAKO,QACdX,IAGF,IAAMG,EAAUC,EAAKD,QACjBD,EAAcC,GAChBD,EAAcC,KAEdD,EAAcC,GAAW,CAE7B,IACsBD,EACpBU,QAAQC,IAAI,YAADC,OAAaX,EAAO,aAAAW,OAAYZ,EAAcC,KAE3DtC,EAAeqC,GACfzC,EAAa,CACXmC,WAAAA,EACAE,eAAAA,EACAC,iBAAAA,EACAC,sBAAAA,EACAC,iBAAAA,EACAJ,kBAAAA,GAGJ,IACA,OAAO,kBAAML,CAAY,CAC3B,GAAG,KAEDuB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBC,SAAA,EAClCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8CAA6CC,SAAA,EAC1DF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0FAAyFC,SAAA,EAEtGC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qCAAoCC,SAC9ClE,EAAE,qCAELmE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,sCAAqCC,SAChDzD,EAAUqC,wBAmBfkB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0FAAyFC,SAAA,EACtGC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,qCAAoCC,SAC9ClE,EAAE,wCAGLmE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,sCAAqCC,SAChDzD,EAAUoC,oBAIjBmB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yEAAwEC,SAAA,EAWrFF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6FAA4FC,SAAA,EACzGC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oCAAmCC,SAC9ClE,EAAE,oCAELmE,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2CAA0CC,UACvDC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,6BAA4BC,SACxCE,OAAOC,QAAQxD,GAAayD,KAAI,SAAAC,GAAA,IAAAC,GAAAnE,EAAAA,EAAAA,GAAAkE,EAAA,GAAEE,EAAGD,EAAA,GAAEE,EAAKF,EAAA,UAC3CR,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,sDAAqDC,SAC/DO,KAEHN,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wDACfE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iDAAgDC,SAC3DQ,MAEC,YAKdV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6FAA4FC,SAAA,EACzGC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oCAAmCC,SAC9ClE,EAAE,gCAELgE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BC,SAAA,EACzCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BC,SAAA,EACvCC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,sDAAqDC,SAAC,YAGnEC,EAAAA,EAAAA,KAAA,OACEF,UAAS,iDAAAF,OAAmDtD,EAAUuC,iBAAgB,KAAAe,OAAItD,EAAUoC,eAEtGsB,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iDAAgDC,SAC3DzD,EAAUuC,uBAGfgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,sDAAqDC,SAAC,UAGnEC,EAAAA,EAAAA,KAAA,OACEF,UAAS,+DAAAF,OAAiEtD,EAAUsC,eAAc,KAAAgB,OAAItD,EAAUoC,eAElHsB,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iDAAgDC,SAC3DzD,EAAUsC,qBAGfiB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBC,SAAA,EACtCC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,sDAAqDC,SAAC,iBAGnEC,EAAAA,EAAAA,KAAA,OACEF,UAAS,gEAAAF,OAAkEtD,EAAUwC,sBAAqB,KAAAc,OAAItD,EAAUoC,eAE1HsB,EAAAA,EAAAA,KAAA,MAAIF,UAAU,iDAAgDC,SAC3DzD,EAAUwC,sCAQ3B,C","sources":["components/pages/deshboard/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { db, auth, requestForToken } from \"../../../Firebase\";\r\nimport {\r\n  query,\r\n  collection,\r\n  getDocs,\r\n  orderBy,\r\n  onSnapshot,\r\n  limit,\r\n} from \"firebase/firestore\";\r\n\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Dashboard = () => {\r\n  const { t } = useTranslation();\r\n  const [posts, setPosts] = useState([]);\r\n  const [usersData, setusersData] = useState({});\r\n  const [countryData, setcountryData] = useState({});\r\n  useEffect(() => {\r\n    getdata();\r\n  }, []);\r\n\r\n  const getdata = async () => {\r\n    const querySnapshot = await getDocs(collection(db, \"fcm_tokens\"));\r\n    const data = [];\r\n    querySnapshot.forEach((doc) => {\r\n      data.push(doc.data());\r\n    });\r\n    setPosts(data);\r\n  };\r\n \r\n  useEffect(() => {\r\n    requestForToken();\r\n    const q = query(collection(db, \"users/\"));\r\n\r\n    const unsubscribe = onSnapshot(q, (QuerySnapshot) => {\r\n      const fetchedUsers = [];\r\n      let totalUsers = 0;\r\n      let totalPremiumUsers = 0;\r\n      let totalMaleUsers = 0;\r\n      let totalFemaleUsers = 0;\r\n      let totalTransgenderUsers = 0;\r\n      let totalActiveUsers = 0;\r\n      const countryCounts = {};\r\n      QuerySnapshot.forEach((doc) => {\r\n        let user = doc.data();\r\n        fetchedUsers.push({ ...doc.data(), id: doc.id, checked: false });\r\n        totalUsers++;\r\n        if (user.isDisable.isDisable !== false) totalActiveUsers++; // Count active users\r\n        if (user.subscription.isPurchased == true) {\r\n          totalPremiumUsers++;\r\n        } // Count active users\r\n        if (user.gender === \"Male\") {\r\n          totalMaleUsers++; // Count active male users\r\n        } else if (user.gender === \"Female\") {\r\n          totalFemaleUsers++; // Count active female users\r\n        } else if (user.gender === \"Transgender\") {\r\n          totalTransgenderUsers++;\r\n        }\r\n\r\n        const country = user.country;\r\n        if (countryCounts[country]) {\r\n          countryCounts[country]++;\r\n        } else {\r\n          countryCounts[country] = 1;\r\n        }\r\n      });\r\n      for (const country in countryCounts) {\r\n        console.log(`Country: ${country}, Count: ${countryCounts[country]}`);\r\n      }\r\n      setcountryData(countryCounts);\r\n      setusersData({\r\n        totalUsers,\r\n        totalMaleUsers,\r\n        totalFemaleUsers,\r\n        totalTransgenderUsers,\r\n        totalActiveUsers,\r\n        totalPremiumUsers,\r\n      });\r\n      // setSelectedPeople(fetchedUsers)\r\n    });\r\n    return () => unsubscribe;\r\n  }, []);\r\n  return (\r\n    <div className=\"px-[32px] pt-[40px]\">\r\n      <div className=\"flex items-center gap-y-3 gap-x-3 flex-wrap\">\r\n        <div className=\"p-[24px] border border-bordercolor rounded-xl md:w-[22%] min-w-[250px] sm:w-full w-full\">\r\n          {/* <button onClick={() => {i18n.changeLanguage('fr')}}>Change language</button> */}\r\n          <p className=\"text-sm font-normal text-lightblue\">\r\n            {t(\"Dashboard.NumberOfPremiumUsers\")}\r\n          </p>\r\n          <h2 className=\"mt-2 text-[#000] font-bold text-2xl\">\r\n            {usersData.totalPremiumUsers}\r\n          </h2>\r\n        </div>\r\n        {/* <div className=\"p-[24px] border border-bordercolor rounded-xl md:w-[22%] min-w-[250px] sm:w-full w-full\">\r\n          <p className=\"text-sm font-normal text-lightblue\">\r\n            {t('Dashboard.NumberOfActiveUsers')}\r\n          </p>\r\n          <h2 className=\"mt-2 text-[#000] font-bold text-2xl\">\r\n            {usersData.totalActiveUsers}\r\n          </h2>\r\n        </div> */}\r\n        {/* <div className=\"p-[24px] border border-bordercolor rounded-xl md:w-[22%] min-w-[250px] sm:w-full w-full\">\r\n          <p className=\"text-sm font-normal text-lightblue\">\r\n            {t('Dashboard.NumberOfActiveUsers')}\r\n          </p>\r\n          <h2 className=\"mt-2 text-[#000] font-bold text-2xl\">\r\n            {usersData.totalActiveUsers}\r\n          </h2>\r\n        </div> */}\r\n        <div className=\"p-[24px] border border-bordercolor rounded-xl md:w-[22%] min-w-[250px] sm:w-full w-full\">\r\n          <p className=\"text-sm font-normal text-lightblue\">\r\n            {t(\"Dashboard.NumberOfRegisteredUsers\")}\r\n          </p>\r\n\r\n          <h2 className=\"mt-2 text-[#000] font-bold text-2xl\">\r\n            {usersData.totalUsers}\r\n          </h2>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex items-center gap-6 mt-6 xl:flex-nowrap  flex-wrap justify-between\">\r\n        {/* {formattedTime}\r\n        <button onClick={() => setIsRunning(true)}>Start</button>\r\n        <button\r\n          onClick={() => {\r\n            setIsRunning(false);\r\n            setSeconds(0);\r\n          }}\r\n        >\r\n          Stop\r\n        </button> */}\r\n        <div className=\"border border-bordercolor p-6 rounded-xl flex flex-col w-full md:w-40% gap-6 min-h-[280px]\">\r\n          <h2 className=\"text-[#000] text-[20px] font-bold\">\r\n            {t(\"Dashboard.SummaryOfUsersState\")}\r\n          </h2>\r\n          <div className=\"flex items-center justify-between w-full\">\r\n            <div className=\"flex flex-col gap-4 w-full\">\r\n              {Object.entries(countryData).map(([key, value]) => (\r\n                <div className=\"flex items-center gap-3 \">\r\n                  <p className=\"text-lightblue text-base font-semibold min-w-[84px]\">\r\n                    {key}\r\n                  </p>\r\n                  <div className=\"h-[16px] max-w-[338px] bg-[#3576F4] w-full rounded\"></div>\r\n                  <h2 className=\"text-[#000] font-bold text-2xl flex-1 text-end\">\r\n                    {value}\r\n                  </h2>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"border border-bordercolor p-6 rounded-xl flex flex-col w-full md:w-40% gap-6 min-h-[280px]\">\r\n          <h2 className=\"text-[#000] text-[20px] font-bold\">\r\n            {t(\"Dashboard.SummaryOfGender\")}\r\n          </h2>\r\n          <div className=\"flex flex-col gap-4 w-full\">\r\n            <div className=\"flex items-center gap-3 \">\r\n              <p className=\"text-lightblue text-base font-semibold min-w-[84px]\">\r\n                Female\r\n              </p>\r\n              <div\r\n                className={`h-[16px] max-w-[338px] bg-[#FAC137] rounded w-${usersData.totalFemaleUsers}/${usersData.totalUsers}`}\r\n              ></div>\r\n              <h2 className=\"text-[#000] font-bold text-2xl flex-1 text-end\">\r\n                {usersData.totalFemaleUsers}\r\n              </h2>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <p className=\"text-lightblue text-base font-semibold min-w-[84px]\">\r\n                Male\r\n              </p>\r\n              <div\r\n                className={`h-[16px] max-w-[338px] bg-[#FAC137] bg-opacity-60 rounded w-${usersData.totalMaleUsers}/${usersData.totalUsers}`}\r\n              ></div>\r\n              <h2 className=\"text-[#000] font-bold text-2xl flex-1 text-end\">\r\n                {usersData.totalMaleUsers}\r\n              </h2>\r\n            </div>\r\n            <div className=\"flex items-center gap-3\">\r\n              <p className=\"text-lightblue text-base font-semibold min-w-[84px]\">\r\n                Transgender\r\n              </p>\r\n              <div\r\n                className={`h-[16px] max-w-[338px] bg-[#FAC137] bg-opacity-60  rounded w-${usersData.totalTransgenderUsers}/${usersData.totalUsers}`}\r\n              ></div>\r\n              <h2 className=\"text-[#000] font-bold text-2xl flex-1 text-end\">\r\n                {usersData.totalTransgenderUsers}\r\n              </h2>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"names":["t","useTranslation","_useState","useState","_useState2","_slicedToArray","setPosts","_useState3","_useState4","usersData","setusersData","_useState5","_useState6","countryData","setcountryData","useEffect","getdata","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","querySnapshot","data","wrap","_context","prev","next","getDocs","collection","db","sent","forEach","doc","push","stop","apply","arguments","requestForToken","q","query","unsubscribe","onSnapshot","QuerySnapshot","fetchedUsers","totalUsers","totalPremiumUsers","totalMaleUsers","totalFemaleUsers","totalTransgenderUsers","totalActiveUsers","countryCounts","country","user","_objectSpread","id","checked","isDisable","subscription","isPurchased","gender","console","log","concat","_jsxs","className","children","_jsx","Object","entries","map","_ref2","_ref3","key","value"],"sourceRoot":""}